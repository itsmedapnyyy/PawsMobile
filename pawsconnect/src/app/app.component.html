<ion-app>
  <!-- Top Bar -->
  <ion-header *ngIf="showHeader" class="ion-no-border">
    <ion-toolbar color="primary" class="header-toolbar">
      <ion-buttons slot="start">
        <!-- Menu button, visible only on the home page -->
        <ion-menu-button *ngIf="isHomePage"></ion-menu-button>
        <!-- Back button, visible on other pages -->
        <ion-back-button 
          *ngIf="!isHomePage" 
          defaultHref="/home" 
          class="back-button">
        </ion-back-button>
      </ion-buttons>
      <ion-title>{{ headerTitle }}</ion-title>
      <!-- Notification button with unread badge -->
      <ion-buttons slot="end" (click)="openNotifications()">
        <ion-icon class="notification-icon" name="notifications"></ion-icon>
        <ion-badge class="notification-badge" color="danger" *ngIf="unreadNotificationsCount > 0">
          {{ unreadNotificationsCount }}
        </ion-badge>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <!-- Main Content -->
  <ion-router-outlet id="main"></ion-router-outlet>

  <!-- Bottom Navigation Tabs -->
  <ion-tabs>
    <ion-tab-bar *ngIf="showBottomBar" slot="bottom" color="primary">
      <ion-tab-button tab="home" routerLink="/home">
        <ion-icon name="home-outline"></ion-icon>
        <ion-label>Home</ion-label>
      </ion-tab-button>
      <ion-tab-button tab="message" routerLink="/message">
        <ion-icon name="chatbubble-outline"></ion-icon>
        <ion-label>Message</ion-label>
      </ion-tab-button>
      <ion-tab-button tab="adopt" routerLink="/adopt">
        <ion-icon name="location-outline"></ion-icon>
        <ion-label>Location</ion-label>
      </ion-tab-button>
      <ion-tab-button tab="profile" routerLink="/profile">
        <ion-icon name="person-outline"></ion-icon>
        <ion-label>Profile</ion-label>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-tabs>
  
  <!-- Menu Bar -->
  <ion-menu menuId="main-menu" contentId="main">
    <ion-content>
      <div class="menu-header-bg"></div>
      <div class="header-content">
        <img src="../assets/images/avatar.png" alt="User Avatar" />
        <ion-label>
          <h2>{{ profile.name }}</h2>
          <p>{{ profile.email }}</p>
        </ion-label>
      </div>
      <ion-list class="menu-items" lines="none">
        <ion-menu-toggle auto-hide="true">
          <ion-item routerLink="/home" routerLinkActive="active" detail="false">
            <ion-icon name="home" slot="start"></ion-icon>
            <ion-label>Home</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle auto-hide="true">
          <ion-item routerLink="/profile" detail="false">
            <ion-icon name="person" slot="start"></ion-icon>
            <ion-label>View profile</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle auto-hide="true">
          <ion-item routerLink="/accountsettings" detail="false">
            <ion-icon name="settings" slot="start"></ion-icon>
            <ion-label>Account settings</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle auto-hide="true">
          <ion-item routerLink="/faq" detail="false">
            <ion-icon name="help-circle" slot="start"></ion-icon>
            <ion-label>FAQs</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle auto-hide="true">
          <ion-item routerLink="/about" detail="false">
            <ion-icon name="information-circle" slot="start"></ion-icon>
            <ion-label>About us</ion-label>
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle auto-hide="true">
          <ion-item routerLink="/log-out" detail="false">
            <ion-icon name="log-out" slot="start"></ion-icon>
            <ion-label>Sign out</ion-label>
          </ion-item>
        </ion-menu-toggle>
      </ion-list>
    </ion-content>
  </ion-menu>

</ion-app>
